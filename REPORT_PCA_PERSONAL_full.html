<!DOCTYPE html>
<html lang="ar" dir="rtl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>تقرير مشروع: تنفيذ PCA واختباره</title>
		<style>
			:root {
				--primary: #2c3e50;
				--accent: #3498db;
				--muted: #95a5a6;
				--text: #333;
				--bg: #ffffff;
				--code-bg: #f8f8f8;
				--border: #e0e0e0;
			}
			html,
			body {
				background: var(--bg);
				color: var(--text);
				font-family: 'Segoe UI', Tahoma, Arial, 'DejaVu Sans', sans-serif;
				line-height: 1.85;
				margin: 0;
				padding: 0;
			}
			.container {
				max-width: 980px;
				margin: 0 auto;
				padding: 28px 22px 64px;
			}
			header {
				border-bottom: 4px solid var(--accent);
				padding-bottom: 18px;
				margin-bottom: 28px;
			}
			h1 {
				margin: 0 0 6px;
				font-size: 2.1rem;
				color: var(--primary);
			}
			.meta {
				color: var(--muted);
				font-size: 0.95rem;
			}
			h2 {
				font-size: 1.5rem;
				color: var(--primary);
				border-bottom: 2px solid var(--muted);
				padding-bottom: 8px;
				margin-top: 32px;
				margin-bottom: 16px;
			}
			h3 {
				font-size: 1.2rem;
				color: var(--primary);
				margin-top: 22px;
				margin-bottom: 10px;
			}
			p {
				margin: 0 0 14px;
				text-align: justify;
			}
			ul {
				margin: 0 0 16px;
				padding-right: 22px;
			}
			li {
				margin: 6px 0;
			}
			.card {
				border: 1px solid var(--border);
				border-radius: 10px;
				padding: 18px;
				background: #fff;
				margin: 16px 0;
			}
			.grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
				gap: 14px;
			}
			.code {
				background: var(--code-bg);
				border: 1px solid var(--border);
				border-radius: 8px;
				padding: 14px;
				direction: ltr;
				text-align: left;
				overflow-x: auto;
				font-family: 'Courier New', Courier, monospace;
				font-size: 0.95rem;
				margin: 10px 0 16px;
			}
			.kbd {
				display: inline-block;
				background: #f3f4f6;
				border: 1px solid #d1d5db;
				border-bottom-width: 2px;
				border-radius: 6px;
				padding: 2px 8px;
				font-size: 0.9rem;
				margin: 0 4px;
			}
			.note {
				background: #f0f9ff;
				border: 1px solid #bae6fd;
				color: #0c4a6e;
				border-radius: 10px;
				padding: 14px 16px;
				margin: 16px 0;
			}
			footer {
				margin-top: 36px;
				color: var(--muted);
				font-size: 0.95rem;
				border-top: 1px dashed var(--border);
				padding-top: 12px;
			}
			.badge {
				color: #06603b;
				background: #d1fae5;
				border: 1px solid #a7f3d0;
				padding: 2px 8px;
				border-radius: 999px;
				font-size: 0.85rem;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<header>
				<h1>تقرير مشروع: تنفيذ PCA واختباره</h1>
			</header>

			<section>
				<h2>1) مقدمة</h2>
				<p>
					تم تنفيذ جزء تحليل المكونات الرئيسية (PCA) ضمن مشروع اختيار الميزات بهدف تقليل أبعاد البيانات مع الحفاظ على أكبر قدر ممكن من التباين لتحسين أداء
					النماذج وسرعة التدريب، ثم تقديم نتائج قابلة للمقارنة مع الطرق التقليدية الأخرى.
				</p>
			</section>

			<section>
				<h2>2) ملخص الفكرة</h2>
				<p> يقوم PCA بتحويل الميزات الأصلية إلى مكونات رئيسية مستقلة خطيًا تُرتّب حسب نسبة التباين المفسّر. تم اعتماد طريقتين للاستخدام: </p>
				<ul>
					<li>تحديد عدد المكونات بناءً على نسبة التباين الإجمالية (مثل 95%).</li>
					<li>تحديد عدد ثابت من المكونات عند الحاجة (مثل 10 مكونات).</li>
				</ul>
			</section>

			<section>
				<h2>3) الملفات المهمة</h2>
				<div class="grid">
					<div class="card">
						<h3>ملف التنفيذ</h3>
						<p><b>المسار:</b> <span class="kbd">src/traditional_methods/pca.py</span></p>
						<ul>
							<li>الصنف: <b>PCASelector</b></li>
							<li>حساب أهمية الميزات الأصلية من تحميلات المكونات الموزونة بالتباين.</li>
							<li>توفير آلية لاختيار الميزات الأكثر تأثيرًا.</li>
						</ul>
					</div>
					<div class="card">
						<h3>التكامل</h3>
						<p><b>المسار:</b> <span class="kbd">src/traditional_methods/__init__.py</span></p>
						<ul>
							<li>تسجيل <b>PCASelector</b> للتصدير والاستيراد المباشر.</li>
						</ul>
					</div>
					<div class="card">
						<h3>اختبار التنفيذ</h3>
						<p><b>الملف:</b> <span class="kbd">TEST_PCA.py</span></p>
						<ul>
							<li>اختبارات تصنيف وانحدار.</li>
							<li>إنشاء بيانات صناعية في حال عدم توفر بيانات فعلية.</li>
						</ul>
					</div>
				</div>
			</section>

			<section>
				<h2>4) كيفية التشغيل محليًا</h2>
				<div class="card">
					<h3>خطوات سريعة</h3>
					<ol>
						<li
							>تفعيل البيئة الافتراضية (إن وجدت):
							<div class="code">source venv/bin/activate</div>
						</li>
						<li
							>تشغيل الاختبار:
							<div class="code">python TEST_PCA.py</div>
							<div class="code">python3 TEST_PCA.py</div>
						</li>
					</ol>
					<div class="note">عند غياب <span class="kbd">data/sample_dataset.csv</span> يتم إنشاء بيانات صناعية تلقائيًا.</div>
				</div>
			</section>

			<section>
				<h2>5) نتائج الاختبار الفعلية</h2>
				<div class="card">
					<h3>التصنيف (Classification)</h3>
					<ul>
						<li>نسبة التباين المستهدفة: 95%</li>
						<li>عدد الميزات المختارة تقريبياً: ~25 من أصل 50 (تبعًا للبيانات)</li>
						<li>إجمالي التباين المفسّر: ~95.07%</li>
						<li
							>أداء النموذج بعد الاختيار:
							<ul>
								<li>الدقة (Accuracy): ~0.90</li>
								<li>F1 (weighted): ~0.85</li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="card">
					<h3>الانحدار (Regression)</h3>
					<ul>
						<li>إجمالي التباين المفسّر: ~96.54%</li>
						<li>R2: ~0.09 (منطقي لبيانات صناعية عشوائية)</li>
					</ul>
				</div>
				<p class="note">القيم مستخلصة من تشغيل فعلي محلي وقد تختلف قليلاً حسب البذرة العشوائية والبيانات.</p>
			</section>

			<section>
				<h2>6) كيفية الاستخدام داخل كود آخر</h2>
				<div class="card">
					<h3>اختيار ميزات أصلية</h3>
					<div class="code"
						>from src.traditional_methods import PCASelector pca = PCASelector(n_components=0.95) pca.fit(X_train, y_train) selected_indices =
						pca.get_selected_features() X_train_selected = X_train[:, selected_indices] X_test_selected = X_test[:, selected_indices]</div
					>
				</div>
				<div class="card">
					<h3>استخدام المكونات الرئيسية مباشرةً</h3>
					<div class="code">X_train_pcs = pca.transform(X_train) X_test_pcs = pca.transform(X_test)</div>
				</div>
			</section>

			<section>
				<h2>7) ملاحظات تقنية</h2>
				<ul>
					<li>PCA لا “يختار” ميزات بحد ذاته بل يولّد مكونات؛ تمت إضافة آلية لاشتقاق أهم الميزات الأصلية من التحميلات.</li>
					<li>استخدام نسبة التباين (مثل 0.95) يحدد عدد المكونات تلقائيًا.</li>
					<li>إمكانية ضبط الحد الأقصى للميزات المختارة بسهولة عند الحاجة.</li>
				</ul>
			</section>

			<section>
				<h2>8) أعمال مستقبلية مقترحة</h2>
				<ul>
					<li>تجربة نماذج مختلفة بعد PCA (SVM, Logistic Regression) لقياس أفضل توافق.</li>
					<li>مقارنة مباشرة بين استخدام المكونات (PCs) واستخدام مجموعة الميزات المنتقاة من التحميلات.</li>
					<li>معايرة أفضل لمعايير الاختيار على بيانات المشروع الفعلية.</li>
				</ul>
			</section>

			<section>
				<h2>9) الخلاصة</h2>
				<p>
					تم تنفيذ PCA واختباره بآلية واضحة للاستخدام والدمج. يقدّم مسارين مفيدين: استخدام المكونات الرئيسية مباشرةً أو اعتماد مجموعة الميزات الأصلية الأكثر
					تأثيرًا. تم توثيق خطوات التشغيل والنتائج لضمان سهولة التكرار.
				</p>
			</section>

			<section>
				<h2>10) مراجع مختصرة</h2>
				<ul>
					<li>Jolliffe, I. T. (2002). Principal Component Analysis. Springer.</li>
					<li>توثيق <span class="kbd">scikit-learn</span> لـ <span class="kbd">sklearn.decomposition.PCA</span>.</li>
				</ul>
			</section>
		</div>
	</body>
</html>

